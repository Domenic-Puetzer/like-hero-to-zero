<!DOCTYPE html>
<html lang="de" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
    <title>Registrierung - Like Hero To Zero</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <!--
      Main navigation bar fragment inclusion.
      Provides consistent navigation across all pages.
    -->
    <div th:replace="~{fragments/navbar :: navbar}"></div>
    
    <div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <!--
              Header section.
              Introduces the registration form and platform.
            -->
            <div class="text-center">
                <div class="mx-auto h-12 w-12 bg-green-600 rounded-full flex items-center justify-center">
                    <svg class="h-7 w-7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" fill="#ffffff">
                        <path d="M535.3 70.7C541.7 64.6 551 62.4 559.6 65.2C569.4 68.5 576 77.7 576 88L576 274.9C576 406.1 467.9 512 337.2 512C260.2 512 193.8 462.5 169.7 393.3C134.3 424.1 112 469.4 112 520C112 533.3 101.3 544 88 544C74.7 544 64 533.3 64 520C64 445.1 102.2 379.1 160.1 340.3C195.4 316.7 237.5 304 280 304L360 304C373.3 304 384 293.3 384 280C384 266.7 373.3 256 360 256L280 256C240.3 256 202.7 264.8 169 280.5C192.3 210.5 258.2 160 336 160C402.4 160 451.8 137.9 484.7 116C503.9 103.2 520.2 87.9 535.4 70.7z"/>
                    </svg>
                </div>
                <h2 class="mt-6 text-3xl font-extrabold text-gray-900">
                    Neues Konto erstellen
                </h2>
                <p class="mt-2 text-sm text-gray-600">
                    Registrieren Sie sich f√ºr Like Hero To Zero
                </p>
            </div>

            <!--
              Success and error message display.
              Shows feedback to the user after registration attempts.
            -->
            <div th:if="${success}" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
                <span class="block sm:inline" th:text="${success}"></span>
            </div>
            
            <div th:if="${error}" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                <span class="block sm:inline" th:text="${error}"></span>
            </div>

            <!--
              Registration form.
              Collects user information for account creation.
            -->
            <form class="mt-8 space-y-6" th:action="@{/register}" method="POST">
                <div class="rounded-md shadow-sm space-y-4">
                    <!--
                      Username input field.
                    -->
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700 mb-1">
                            Benutzername *
                        </label>
                        <div class="relative">
                            <div class="z-20 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                üë§
                            </div>
                            <input id="username" name="username" type="text" required
                                   class="appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm"
                                   placeholder="Ihr Benutzername">
                        </div>
                    </div>

                    <!--
                      Email input field.
                    -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
                            E-Mail-Adresse *
                        </label>
                        <div class="relative">
                            <div class="z-20 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                ‚úâÔ∏è
                            </div>
                            <input id="email" name="email" type="email" required
                                   class="appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm"
                                   placeholder="ihre.email@beispiel.de">
                        </div>
                    </div>

                    <!--
                      First name input field.
                    -->
                    <div>
                        <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1">
                            Vorname *
                        </label>
                        <div class="relative">
                            <div class="z-20 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                ü™™
                            </div>
                            <input id="firstName" name="firstName" type="text" required
                                   class="appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm"
                                   placeholder="Ihr Vorname">
                        </div>
                    </div>

                    <!--
                      Last name input field.
                    -->
                    <div>
                        <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1">
                            Nachname *
                        </label>
                        <div class="relative">
                            <div class="z-20 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                ü™™
                            </div>
                            <input id="lastName" name="lastName" type="text" required
                                   class="appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm"
                                   placeholder="Ihr Nachname">
                        </div>
                    </div>

                    <!--
                      Role selection dropdown.
                      Allows the user to select their role (except admin).
                    -->
                    <div>
                        <label for="role" class="block text-sm font-medium text-gray-700 mb-1">
                            Rolle *
                        </label>
                        <div class="relative group">
                            <div class="z-20 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                üè∑Ô∏è
                            </div>
                            <select id="role" name="role" required
                                    class="appearance-none relative block w-full pl-10 pr-10 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm">
                                <option value="">Rolle ausw√§hlen</option>
                                <option th:each="role : ${roles}" 
                                        th:value="${role}" 
                                        th:text="${role.displayName}"
                                        th:if="${role.name() != 'ADMIN'}">Role</option>
                            </select>
                            <div class="z-20 absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                <svg class="w-4 h-4 text-gray-400 transform ease-in-out duration-100" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!--
                      Password input field.
                    -->
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">
                            Passwort *
                        </label>
                        <div class="relative">
                            <div class="z-20 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                üîí
                            </div>
                            <input id="password" name="password" type="password" required
                                   class="appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm"
                                   placeholder="Mindestens 6 Zeichen"
                                   minlength="6">
                        </div>
                    </div>

                    <!--
                      Confirm password input field.
                    -->
                    <div>
                        <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">
                            Passwort best√§tigen *
                        </label>
                        <div class="relative">
                            <div class="z-20 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                üîí
                            </div>
                            <input id="confirmPassword" name="confirmPassword" type="password" required
                                   class="appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm"
                                   placeholder="Passwort wiederholen"
                                   minlength="6">
                        </div>
                    </div>
                </div>

                <!--
                  Submit button for registration.
                -->
                <div>
                    <button type="submit"
                            class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150 ease-in-out">
                        Konto erstellen
                    </button>
                </div>

                <!--
                  Login link for already registered users.
                -->
                <div class="text-center">
                    <p class="mt-2 text-sm text-gray-600">
                        Bereits registriert?
                        <a th:href="@{/login}" class="font-medium text-green-600 hover:text-green-500 transition duration-150 ease-in-out">
                            Hier anmelden
                        </a>
                    </p>
                </div>
            </form>
        </div>
    </div>

    <!--
      Password match validation script.
      Ensures that password and confirm password fields match before submission.
    -->
    <script src="/js/register.js"></script>
</body>
</html>